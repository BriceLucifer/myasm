     1                                  ;betterloop.asm
     2                                  
     3                                  extern printf
     4                                  
     5                                  section .data
     6 00000000 00CA9A3B00000000        	number dq 1000000000
     7 00000008 5468652073756D2066-     	fmt db "The sum from 0 to %ld is %ld", 10, 0
     7 00000011 726F6D203020746F20-
     7 0000001A 256C6420697320256C-
     7 00000023 640A00             
     8                                  section .bss
     9                                  section .text
    10                                  	global main 
    11                                  
    12                                  main:
    13 00000000 55                      	push rbp
    14 00000001 4889E5                  	mov rbp, rsp
    15 00000004 488B0C25[00000000]      	mov rcx, [number] ;initialize the rcx with number
    16 0000000C B800000000              	mov rax, 0
    17                                  
    18                                  bloop:
    19 00000011 4801C8                  	add rax, rcx 
    20 00000014 E2FB                    	loop bloop
    21                                  	; every time when having a loop 
    22                                  	; rcx -= 1 until rcx == 0
    23                                  	; printf
    24 00000016 48BF-                   	mov rdi, fmt 
    24 00000018 [0800000000000000] 
    25 00000020 488B3425[00000000]      	mov rsi, [number]
    26 00000028 4889C2                  	mov rdx, rax 
    27 0000002B B800000000              	mov rax, 0 ; no floating number 
    28 00000030 E8(00000000)            	call printf 
    29                                  	; exit
    30 00000035 4889EC                  	mov rsp, rbp 
    31 00000038 5D                      	pop rbp 
    32 00000039 C3                      	ret
